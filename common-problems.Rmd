# Common Problems with rmarkdown (and some solutions)

There are some things that I run into fairly frequently (and some not so much) when I'm rendering my rmarkdown documents. This section details some the common problems, and the solution that I have found works for me.

## "Duplication": Duplicated chunk names

**What it might look like**

**How to solve**

## "Not what I ordered": Objects not created in the right order

**What it might look like**

**How to solve**

## "Forgotten Trails I":  Missing ",", or "(", "}", or "'"

**What it might look like**

**How to solve**


## "Forgotten Trails II": Chunk option with trailing ", or not input

**What it might look like**

```
processing file: rstudio.Rmd
(*) NOTE: I saw chunk options "fig-rstudio-workspace-options, fig.cap = "Setting the options right for rstudio, so you don't restore previous sessions work, and don't save it either."
 please go to https://yihui.name/knitr/options
 (it is likely that you forgot to quote "character" options)
Error in parse(text = code, keep.source = FALSE) : 
  <text>:1:51: unexpected INCOMPLETE_STRING
1: alist( 'fig-rstudio-workspace-options', fig.cap = "Setting the options right for rstudio, so you don't restore previous sessions work, and don't save it either. )
```

**How to solve it?**

* The easiest way is to do Cmd+Shift+F, which opens up a global search in your rstudio project, and then type in the offending string mentioned in the NOTE. In this case, I would search for the partial string `"fig.cap = "Setting the options right for rstudio, so you don't restore previous sessions work, and`. I search for the partial string because there might be parts at the end of the error message that aren't in the text.

## "Forgotten Trail III": 

**What it might look like**

```
processing file: figures-tables-captions.Rmd
(*) NOTE: I saw chunk options "read-gapminder include = FALSE, echo = FALSe"
 please go to https://yihui.name/knitr/options
 (it is likely that you forgot to quote "character" options)
Error in parse(text = code, keep.source = FALSE) : 
  <text>:1:23: unexpected symbol
1: alist( read-gapminder include
                          ^
```

**How to solve**

This error message is pretty good, I needed to add a comma after my chunk name. 

So, go from:

````markdown
`r ''```{r read-gapminder include = FALSE, echo = FALSE}
gapminder <- readr::read_csv(here::here("data", "gapminder.csv"))
```
````

to 

````markdown
`r ''```{r read-gapminder, include = FALSE, echo = FALSE}
gapminder <- readr::read_csv(here::here("data", "gapminder.csv"))
```
````


## "The Path Not Taken" File path incorrect

**What it might look like**

**How to solve**

## "Spolling I" Incorrectly spelled chunk options

These are often not an error, but you just won't get the behaviour that you expect.

**What it might look like**

* `fig.caption` instead of `fig.cap`. This once caused me to rewrite a lot of code and an entire section of a paper until I realised the problem.

**How to solve**

* There might be a switch you can flick to ask `knitr` to solve

## "Spolling II" Incorrectly spelled chunk option inputs

So this is when you provide the wrong input to your chunk options. Like something that requires `TRUE` gets "yes", or something that needs `"100%"` instead gets `100`

**What it might look like**

```
Quitting from lines 31-32 (figures-tables-captions.Rmd) 
Error in eval(x, envir = envir) : object 'FALSe' not found
Calls: local ... process_group.block -> call_block -> eval_lang -> eval -> eval
Execution halted
Error in Rscript_render(f, render_args, render_meta) : 
  Failed to compile figures-tables-captions.Rmd
Calls: <Anonymous> ... render_book -> render_new_session -> Rscript_render
Execution halted
```

**How to solve**

What was the problem? Turns out I provided the option `FALSe` instead of `FALSE`.


Go from:

````markdown
`r ''```{r read-gapminder include = FALSE, echo = FALSe}
gapminder <- readr::read_csv(here::here("data", "gapminder.csv"))
```
````

to 

````markdown
`r ''```{r read-gapminder, include = FALSE, echo = FALSE}
gapminder <- readr::read_csv(here::here("data", "gapminder.csv"))
```
````

## "The Legend of Link I": Your images in `![]()` don't work.

I often forget that it is `![](path/to/image)`, and note `![]("path/to/image")`. There are no quote marks!

## LaTeX errors

There is no panacea for LaTeX errors, but if you aren't familiar with "what that error message" might look like, here are some details.

**What it might look like**

**How to solve**

## I want to include inline R code verbatim to show an example

... Like for a book on using rmarkdown or something.

Check out this great [blog post by T. Hovorka from R Views](https://rviews.rstudio.com/2017/12/04/how-to-show-r-inline-code-blocks-in-r-markdown/)

It boils down to this:

<span style="color:blue">``` `r "\u0060\u0060 \u0060r \"\\u0060r expression\\u0060\"\u0060 \u0060\u0060"` ```</span>.

## Exercise {.exercise}

1. Go to this repo [njtierney/rmd-errors](https://github.com/njtierney/rmd-errors), and give debugging some of these common rmarkdown errors a go.
